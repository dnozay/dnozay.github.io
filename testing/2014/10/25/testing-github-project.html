<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Testing your GitHub project.</title><meta name="viewport" content="width=device-width"><!-- build:js /js/main.23ed95cc.js --><script src="/jquery/dist/jquery.07c725a6.js"></script><script src="/sass-bootstrap/dist/js/bootstrap.8973ad7b.js"></script><script src="/js/holder.js"></script><!-- endbuild --><!-- build:css /css/main.bfc8b867.css --><link rel="stylesheet" href="/sass-bootstrap/dist/css/bootstrap.1d9c362f.css"><link rel="stylesheet" href="/font-awesome/css/font-awesome.64b4fbc0.css"><link rel="stylesheet" href="/css/syntax.3669e10a.css"><link rel="stylesheet" href="/css/main.bfc8b867.css"><!-- endbuild --></head><body><!-- Static navbar --><div class="navbar navbar-default navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse"><span class="sr-only">Toggle navigation</span> <i class="fa fa-bars"></i></button> <a class="navbar-brand" href="#">dnozay.github.io</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="/">Home</a></li><li><a href="/about.html">About</a></li><li><a href="/test.html">test page</a></li></ul></div><!--/.nav-collapse --></div></div><div class="container"><div class="page-header"><h1>Testing your GitHub project. <small>25 Oct 2014 <a href="/testing/2014/10/25/testing-github-project.html"><i class="fa fa-link"></i></a></small></h1></div><div class="post"><p><a href="http://en.wikipedia.org/wiki/Continuous_integration">Continuous integration</a> is something I value a lot in software projects. If you are already hosting your code on <a href="https://github.com/">GitHub</a>, for public or private repositories, then you can leverage a lot of tools available in the ecosystem.</p><h1 id="travis-ci">Travis-CI</h1><p>Let me just quote <a href="https://github.com/travis-ci/travis-ci">their README</a>:</p><blockquote><p><a href="https://travis-ci.com">Travis CI</a> is a hosted continuous integration and deployment system. There are two versions of it, <a href="https://travis-ci.com">travis-ci.com</a> for private repositories, and <a href="https://travis-ci.org">travis-ci.org</a> for public repositories.</p></blockquote><p>Once you enable Travis for your project, it will test all the branches for which it is enabled as well as the pull requests. Pure glittering awesome. Plus, if you <a href="https://travis-ci.com/plans">look at their pricing</a>, it is <strong>free</strong> for open source projects; … <em>awesomeness squared</em>. Head over to the docs, and <a href="http://docs.travis-ci.com/user/getting-started/">get started</a>.</p><h2 id="why">Why?</h2><p>Having some kind of metric to check that a commit is good or bad is useful. There is no point in doing an automatic merge of a commit that will cause tests to fail. Instead, it is smarter to apply changes locally, fix them and only then merge them.</p><p>E.g. GitHub shows Travis commit status:</p><p><img src="/img/2014-10-25-pullreq-travis.f594e9d9.png" alt="testing pull requests with Travis"></p><p>That is a pretty neat integration with GitHub; when Travis tests your GitHub changes, it will then notify <a href="https://github.com/blog/1227-commit-status-api">GitHub of your commit status</a> (more info: <a href="https://developer.github.com/v3/repos/statuses/">commit status API</a>).</p><h2 id="adding-a-badge-to-your-readmemd">Adding a badge to your <code>README.md</code></h2><p>Once your project is enabled, then you can also add the badge in your project’s <code>README.md</code> so it will show on the project page (or GitHub project pages). This will let your users (end-users or library consumers) know how everything is looking; and collaborators that they may want to spend some time fixing the branch.</p><p>E.g. <a href="https://github.com/xmlrunner/unittest-xml-reporting">xmlrunner</a> build status: <a href="https://travis-ci.org/xmlrunner/unittest-xml-reporting"><img src="https://travis-ci.org/xmlrunner/unittest-xml-reporting.svg?branch=master" alt="xmlrunner build status"></a></p><h2 id="enabling-travis-for-your-project">Enabling Travis for your project</h2><ol><li>review <a href="http://docs.travis-ci.com/user/getting-started/">the documentation</a>.</li><li>go to the <a href="https://travis-ci.org/profile">profile</a> page.</li><li>profit.</li></ol><p><img src="/img/2014-10-25-enable-travis.b3f4f9a5.png" alt="enabling Travis for xmlrunner"></p><h2 id="adding-a-travisyml-configuration">Adding a <code>.travis.yml</code> configuration</h2><ol><li>review <a href="http://docs.travis-ci.com/user/languages/python/">the documentation</a>.</li><li>add a <code>.travis.yml</code> file.</li><li>profit.</li></ol><p>Here is a minimalist configuration for testing a python project using <a href="https://testrun.org/tox/latest/"><code>tox</code></a>, which I will cover in the next section.</p><script src="https://gist.github.com/dnozay/27ff0d8d589b6593b4be.js"></script><h1 id="tox">Tox</h1><p>Let me quote <a href="https://testrun.org/tox/latest/">the <code>tox</code> doc</a>:</p><blockquote><p><code>tox</code> aims to automate and standardize testing in Python. It is part of a larger vision of easing the packaging, testing and release process of Python software.</p></blockquote><h2 id="two-liner-example">Two-liner example</h2><p>Let’s start with a very simple example that involves letting <code>setuptools</code> run the testsuite (<a href="https://pythonhosted.org/setuptools/setuptools.html#test-build-package-and-run-a-unittest-suite">setuptools doc</a>):</p><script src="https://gist.github.com/dnozay/a4dd19777723ae1f6969/f0edecd8bf27c0aa288544558f1c23bcadeaea98.js"></script><h2 id="testing-multiple-python-versions">Testing multiple python versions</h2><p>Let’s rewind for a bit… <a href="https://testrun.org/tox/latest/#what-is-tox"><strong>What is tox?</strong></a>.</p><blockquote><p>Tox as is a generic virtualenv management and test command line tool you can use for:</p><ul><li>checking your package installs correctly with different Python versions and interpreters</li><li>running your tests in each of the environments, configuring your test tool of choice</li><li>acting as a frontend to Continuous Integration servers, greatly reducing boilerplate and merging CI and shell-based testing.</li></ul></blockquote><p>So would that mean I can test python <code>2.6</code>, <code>2.7</code>, and <code>3.3</code>? Yes.</p><script src="https://gist.github.com/dnozay/a4dd19777723ae1f6969/d871e87686b0355fc8f8454aad8b5947df413c00.js"></script></div><div class="pagination"><ul class="pager"><li class="previous"><a href="/cheatsheet/2014/09/23/fontawesome.html"><i class="fa fa-arrow-left"></i> Previous</a></li><li class="next"><a href="/licensing/2014/10/25/choosing-a-license.html">Next <i class="fa fa-arrow-right"></i></a></li></ul></div></div><div class="footer"><div class="container text-center"><p>The contents of this website are <i class="fa fa-copyright"></i>&nbsp;2014 <a href="mailto:damiennozay+blog@gmail.com">Damien Nozay</a> under the terms of the <a href="http://opensource.org/licenses/MIT">MIT&nbsp;License</a>.</p><div><p><i class="fa fa-cog fa-spin"></i> Made with love thanks to: <a href="http://fontawesome.io/">Font Awesome</a><span class="hide-xs">·</span> <a href="http://getbootstrap.com/">Bootstrap</a><span class="hide-xs">·</span> <a href="http://jekyllrb.com/">Jekyll</a><span class="hide-xs">·</span> <a href="http://yeoman.io/">Yeoman</a><span class="hide-xs">·</span> <a href="https://github.com">Github</a><span class="hide-xs">·</span> and others...</p>Documentation licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a></div></div></div><!-- build:js /js/scripts.js --><script src="/js/main.23ed95cc.js"></script><!-- endbuild --></body></html>